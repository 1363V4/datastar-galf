<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The GALF game!</title>
    <script type="module" src="https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-beta.11/bundles/datastar.js"></script>
    <link rel="stylesheet" href="static/css/main.css">
    <script src="static/js/main.js"></script>
</head>
<body 
cloak
data-attr-cloak="false">
    <main 
    data-signals="{game: 0, id: 0, min: 0, max: 45, answer: ''}">
        <div data-show="$game == 0">
            <h1>GALF</h1>
            <button 
            data-on-click="$answer=''; $id = @fit(Math.random(), 0, 1, $min, $max, true, true); $game = 1"
            >Get galf</button>
            <!-- <img 
            class="galf"
            data-on-interval__duration.10ms ="$game == 0 ? $id = @fit(Math.random(), 0, 1, $min, $max, true, true) : null"
            data-attr-src="'static/img/eu_flags/' + flags[$id] + '.png'"/> -->
        </div>
        <div id="screen1" data-show="$game == 1">
            <img 
            class="galf"
            data-attr-src="'static/img/eu_flags/' + flags[$id] + '.png'"/>
            <form id="form" data-on-submit="$game = 2">
                <input data-bind-answer placeholder="???">
                <div id="combobox">
                    <div 
                    class="choice"
                    data-show="$answer && 'albania'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'albania'; $game = 2">
                    Albania
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'andorra'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'andorra'; $game = 2">
                    Andorra
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'armenia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'armenia'; $game = 2">
                    Armenia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'austria'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'austria'; $game = 2">
                    Austria
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'belarus'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'belarus'; $game = 2">
                    Belarus
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'belgium'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'belgium'; $game = 2">
                    Belgium
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'bosnia_and_herzegovina'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'bosnia_and_herzegovina'; $game = 2">
                    Bosnia_and_Herzegovina
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'bulgaria'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'bulgaria'; $game = 2">
                    Bulgaria
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'croatia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'croatia'; $game = 2">
                    Croatia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'cyprus'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'cyprus'; $game = 2">
                    Cyprus
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'czech_republic'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'czech_republic'; $game = 2">
                    Czech_Republic
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'denmark'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'denmark'; $game = 2">
                    Denmark
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'estonia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'estonia'; $game = 2">
                    Estonia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'finland'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'finland'; $game = 2">
                    Finland
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'france'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'france'; $game = 2">
                    France
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'georgia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'georgia'; $game = 2">
                    Georgia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'germany'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'germany'; $game = 2">
                    Germany
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'greece'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'greece'; $game = 2">
                    Greece
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'hungary'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'hungary'; $game = 2">
                    Hungary
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'iceland'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'iceland'; $game = 2">
                    Iceland
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'ireland'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'ireland'; $game = 2">
                    Ireland
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'italy'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'italy'; $game = 2">
                    Italy
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'latvia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'latvia'; $game = 2">
                    Latvia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'liechtenstein'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'liechtenstein'; $game = 2">
                    Liechtenstein
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'lithuania'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'lithuania'; $game = 2">
                    Lithuania
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'luxembourg'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'luxembourg'; $game = 2">
                    Luxembourg
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'malta'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'malta'; $game = 2">
                    Malta
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'moldova'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'moldova'; $game = 2">
                    Moldova
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'monaco'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'monaco'; $game = 2">
                    Monaco
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'montenegro'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'montenegro'; $game = 2">
                    Montenegro
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'netherlands'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'netherlands'; $game = 2">
                    Netherlands
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'north_macedonia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'north_macedonia'; $game = 2">
                    North_Macedonia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'norway'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'norway'; $game = 2">
                    Norway
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'poland'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'poland'; $game = 2">
                    Poland
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'portugal'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'portugal'; $game = 2">
                    Portugal
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'romania'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'romania'; $game = 2">
                    Romania
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'russia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'russia'; $game = 2">
                    Russia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'serbia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'serbia'; $game = 2">
                    Serbia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'slovakia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'slovakia'; $game = 2">
                    Slovakia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'slovenia'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'slovenia'; $game = 2">
                    Slovenia
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'spain'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'spain'; $game = 2">
                    Spain
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'sweden'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'sweden'; $game = 2">
                    Sweden
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'switzerland'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'switzerland'; $game = 2">
                    Switzerland
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'ukraine'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'ukraine'; $game = 2">
                    Ukraine
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'united_kingdom'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'united_kingdom'; $game = 2">
                    United_Kingdom
                    </div>
                    <div
                    class="choice"
                    data-show="$answer && 'vatican_city'.includes($answer.toLowerCase())"
                    data-on-click="$answer = 'vatican_city'; $game = 2">
                    Vatican_City
                    </div>
                </div>
            </form>
        </div>
        <div data-show="$game == 2">
            <div data-show="$answer != flags[$id].toLowerCase()">
                <img data-attr-src="'static/img/flags/' + flags[$id] + '.png'"/>
                <p><strong>Wrong!</strong></p>
                <p>The answer was <span data-text="flags[$id]"></span></p>
                <button data-on-click="$game = 0">new game</button>
            </div>
            <div data-show="$answer == flags[$id].toLowerCase()">
                <img data-attr-src="'static/img/flags/' + flags[$id] + '.png'"/>
                <p><strong>Well played!</strong></p>
                <button data-on-click="$game = 0">new game</button>
            </div>
        </div>
        <!-- <div data-text="ctx.signals.JSON()"></div> -->
    </main>
</body>
</html>