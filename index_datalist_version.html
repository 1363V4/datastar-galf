<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The GALF game!</title>
    <script type="module" src="https://cdn.jsdelivr.net/gh/starfederation/datastar@1.0.0-beta.11/bundles/datastar.js"></script>
    <link rel="stylesheet" href="static/css/main.css">
    <script src="static/js/main.js"></script>
</head>
<body 
cloak
data-attr-cloak="false">
    <main 
    data-signals="{game: 0, id: 0, min: 0, max: 45, answer: ''}">
        <div data-show="$game == 0">
            <h1>GALF</h1>
            <button 
            data-on-click="$answer=''; $id = @fit(Math.random(), 0, 1, $min, $max, true, true); $game = 1"
            >Get galf</button>
            <!-- <img 
            class="galf"
            data-on-interval__duration.10ms ="$game == 0 ? $id = @fit(Math.random(), 0, 1, $min, $max, true, true) : null"
            data-attr-src="'static/img/eu_flags/' + flags[$id] + '.png'"/> -->
        </div>
        <div id="screen1" data-show="$game == 1">
            <img 
            class="galf"
            data-attr-src="'static/img/eu_flags/' + flags[$id] + '.png'"/>
            <form id="form" data-on-submit="$game = 2">
                <input 
                data-bind-answer 
                list="countries"
                placeholder="???">
                <datalist id="countries">
                    <option >
                    Albania
                    </option>
                    <option>
                    Andorra
                    </option>
                    <option>
                    Armenia
                    </option>
                    <option>
                    Austria
                    </option>
                    <option>
                    Belarus
                    </option>
                    <option>
                    Belgium
                    </option>
                    <option>
                    Bosnia_and_Herzegovina
                    </option>
                    <option>
                    Bulgaria
                    </option>
                    <option>
                    Croatia
                    </option>
                    <option>
                    Cyprus
                    </option>
                    <option>
                    Czech_Republic
                    </option>
                    <option>
                    Denmark
                    </option>
                    <option>
                    Estonia
                    </option>
                    <option>
                    Finland
                    </option>
                    <option>
                    France
                    </option>
                    <option>
                    Georgia
                    </option>
                    <option>
                    Germany
                    </option>
                    <option>
                    Greece
                    </option>
                    <option>
                    Hungary
                    </option>
                    <option>
                    Iceland
                    </option>
                    <option>
                    Ireland
                    </option>
                    <option>
                    Italy
                    </option>
                    <option>
                    Latvia
                    </option>
                    <option>
                    Liechtenstein
                    </option>
                    <option>
                    Lithuania
                    </option>
                    <option>
                    Luxembourg
                    </option>
                    <option>
                    Malta
                    </option>
                    <option>
                    Moldova
                    </option>
                    <option>
                    Monaco
                    </option>
                    <option>
                    Montenegro
                    </option>
                    <option>
                    Netherlands
                    </option>
                    <option>
                    North_Macedonia
                    </option>
                    <option>
                    Norway
                    </option>
                    <option>
                    Poland
                    </option>
                    <option>
                    Portugal
                    </option>
                    <option>
                    Romania
                    </option>
                    <option>
                    Russia
                    </option>
                    <option>
                    Serbia
                    </option>
                    <option>
                    Slovakia
                    </option>
                    <option>
                    Slovenia
                    </option>
                    <option>
                    Spain
                    </option>
                    <option>
                    Sweden
                    </option>
                    <option>
                    Switzerland
                    </option>
                    <option>
                    Ukraine
                    </option>
                    <option>
                    United_Kingdom
                    </option>
                    <option>
                    Vatican_City
                    </option>
                </datalist>
            </form>
        </div>
        <div data-show="$game == 2">
            <div data-show="$answer != flags[$id]">
                <img data-attr-src="'static/img/flags/' + flags[$id] + '.png'"/>
                <p><strong>Wrong!</strong></p>
                <p>The answer was <span data-text="flags[$id]"></span></p>
                <button data-on-click="$game = 0">new game</button>
            </div>
            <div data-show="$answer == flags[$id]">
                <img data-attr-src="'static/img/flags/' + flags[$id] + '.png'"/>
                <p><strong>Well played!</strong></p>
                <button data-on-click="$game = 0">new game</button>
            </div>
        </div>
        <!-- <div data-text="ctx.signals.JSON()"></div> -->
    </main>
</body>
</html>